#!/bin/bash

echo "#############################################################################################################################################" >>../Data/Time.txt &&
echo "--------------------------------------------------------1024 = 1 KB--------------------------------------------------------------------------" >>../Data/Time.txt &&
echo "#############################################################################################################################################" >>../Data/Time.txt &&
echo "Normale:" >>../Data/Time.txt &&
mpirun -np 4 $1 ../Data/Power7/testo_random2_1KB.txt $3 >>../Data/Time.txt &&
echo "Ottimizzato:" >>../Data/Time.txt &&
mpirun -np 4 $2 ../Data/Power7/testo_random2_1KB.txt $3 >>../Data/Time.txt &&
echo "#############################################################################################################################################" >>../Data/Time.txt &&
echo "" >>../Data/Time.txt &&
echo "" >>../Data/Time.txt &&
echo "#############################################################################################################################################" >>../Data/Time.txt &&
echo "-------------------------------------------------------1048576 = 1 MB------------------------------------------------------------------------" >>../Data/Time.txt &&
echo "#############################################################################################################################################" >>../Data/Time.txt &&
echo "Normale:" >>../Data/Time.txt &&
mpirun -np 4 $1 ../Data/Power7/testo_random2_1MB.txt $3 >>../Data/Time.txt &&
echo "Ottimizzato:" >>../Data/Time.txt &&
mpirun -np 4 $2 ../Data/Power7/testo_random2_1MB.txt $3 >>../Data/Time.txt &&
echo "#############################################################################################################################################" >>../Data/Time.txt &&
echo "" >>../Data/Time.txt &&
echo "" >>../Data/Time.txt &&
echo "#############################################################################################################################################" >>../Data/Time.txt &&
echo "------------------------------------------------------536870912 = 500 MB---------------------------------------------------------------------" >>../Data/Time.txt &&
echo "#############################################################################################################################################" >>../Data/Time.txt &&
echo "Normale:" >>../Data/Time.txt &&
mpirun -np 4 $1 ../Data/Power7/testo_random2_500MB.txt $3 >>../Data/Time.txt &&
echo "Ottimizzato:"  >>../Data/Time.txt &&
mpirun -np 4 $2 ../Data/Power7/testo_random2_500MB.txt $3 >>../Data/Time.txt &&
echo "#############################################################################################################################################" >>../Data/Time.txt &&
echo "" >>../Data/Time.txt &&
echo "" >>../Data/Time.txt &&
echo "#############################################################################################################################################" >>../Data/Time.txt &&
echo "----------------------------------------------------1073741824 = 1 GB------------------------------------------------------------------------" >>../Data/Time.txt &&
echo "#############################################################################################################################################" >>../Data/Time.txt &&
echo "---------------------------------------------------------------------------------------------------------------------------------------------" >>../Data/Time.txt &&
echo "Random" >>../Data/Time.txt &&
echo "---------------------------------------------------------------------------------------------------------------------------------------------" >>../Data/Time.txt &&
echo "Normale:" >>../Data/Time.txt &&
mpirun -np 4 $1 ../Data/Power7/testo_random_1GB.txt $3 >>../Data/Time.txt &&
echo "Ottimizzato:" >>../Data/Time.txt &&
mpirun -np 4 $2 ../Data/Power7/testo_random_1GB.txt $3 >>../Data/Time.txt &&
echo "---------------------------------------------------------------------------------------------------------------------------------------------" >>../Data/Time.txt &&
echo "Ciclo 1" >>../Data/Time.txt &&
echo "---------------------------------------------------------------------------------------------------------------------------------------------" >>../Data/Time.txt &&
echo "Normale:" >>../Data/Time.txt &&
mpirun -np 4 $1 ../Data/Power7/testo_random1_1GB.txt $3 >>../Data/Time.txt &&
echo "Ottimizzato:" >>../Data/Time.txt &&
mpirun -np 4 $2 ../Data/Power7/testo_random1_1GB.txt $3 >>../Data/Time.txt &&
echo "---------------------------------------------------------------------------------------------------------------------------------------------" >>../Data/Time.txt &&
echo "Ciclo 2" >>../Data/Time.txt &&
echo "---------------------------------------------------------------------------------------------------------------------------------------------" >>../Data/Time.txt &&
echo "Normale:" >>../Data/Time.txt &&
mpirun -np 4 $1 ../Data/Power7/testo_random2_1GB.txt $3 >>../Data/Time.txt &&
echo "Ottimizzato:" >>../Data/Time.txt &&
mpirun -np 4 $2 ../Data/Power7/testo_random2_1GB.txt $3 >>../Data/Time.txt &&
echo "---------------------------------------------------------------------------------------------------------------------------------------------" >>../Data/Time.txt &&
echo "Cicli 1-2" >>../Data/Time.txt &&
echo "---------------------------------------------------------------------------------------------------------------------------------------------" >>../Data/Time.txt &&
echo "Normale:" >>../Data/Time.txt &&
mpirun -np 4 $1 ../Data/Power7/testo_random12_1GB.txt $3 >>../Data/Time.txt &&
echo "Ottimizzato:" >>../Data/Time.txt &&
mpirun -np 4 $1 ../Data/Power7/testo_random12_1GB.txt $3 >>../Data/Time.txt &&
echo "#############################################################################################################################################" >>../Data/Time.txt
#echo "" >>../Data/Time.txt &&
#echo "" >>../Data/Time.txt &&
#echo "#############################################################################################################################################" >>../Data/Time.txt &&
#echo "-----------------------------------------------------1073741843 = 1 GB + m -1 ---------------------------------------------------------------"
#echo "#############################################################################################################################################" >>../Data/Time.txt &&
#echo "Normale:" >>../Data/Time.txt &&
#mpirun -np 4 $1 ../Data/Power7/testo_random2_1GB+m-1.txt $3 >>../Data/Time.txt &&
#echo "Ottimizzato:" >>../Data/Time.txt &&
#mpirun -np 4 $2 ../Data/Power7/testo_random2_1GB+m-1.txt $3 >>../Data/Time.txt &&
#echo "" >>../Data/Time.txt &&
#echo "" >>../Data/Time.txt &&
#echo "#############################################################################################################################################" >>../Data/Time.txt &&
#echo "-----------------------------------------------------1073741875 = 1 GB +m -1 +32 ------------------------------------------------------------"
#echo "#############################################################################################################################################" >>../Data/Time.txt &&
#echo "Normale:" >>../Data/Time.txt &&
#mpirun -np 4 $1 ../Data/Power7/testo_random2_1GB+m-1+32.txt $3 >>../Data/Time.txt &&
#echo "Ottimizzato:" >>../Data/Time.txt &&
#mpirun -np 4 $2 ../Data/Power7/testo_random2_1GB+m-1+32.txt $3 >>../Data/Time.txt &&
#echo "#############################################################################################################################################" >>../Data/Time.txt &&
#echo "" >>../Data/Time.txt &&
#echo "" >>../Data/Time.txt &&
#echo "#############################################################################################################################################" >>../Data/Time.txt &&
#echo "-----------------------------------------------------1610612736 = 1,5 GB---------------------------------------------------------------------"
#echo "#############################################################################################################################################" >>../Data/Time.txt &&
#echo "Normale:" >>../Data/Time.txt &&
#mpirun -np 4 $1 ../Data/Power7/testo_random2_1500MB.txt $3 >>../Data/Time.txt &&
#echo "Ottimizzato:"  >>../Data/Time.txt &&
#mpirun -np 4 $1 ../Data/Power7/testo_random2_2GB.txt $2 >>../Data/Time.txt &&
#echo "#############################################################################################################################################" >>../Data/Time.txt &&
#echo "" >>../Data/Time.txt &&
#echo "" >>../Data/Time.txt &&
#echo "#############################################################################################################################################" >>../Data/Time.txt &&
#echo "-----------------------------------------------------2147483648 = 2 GB-----------------------------------------------------------------------" >>../Data/Time.txt &&
#echo "#############################################################################################################################################" >>../Data/Time.txt &&
#echo "Normale:" >>../Data/Time.txt &&
#mpirun -np 4 $1 ../Data/Power7/testo_random2_1500MB.txt $3 >>../Data/Time.txt &&
#echo "Ottimizzato:"  >>../Data/Time.txt &&
#mpirun -np 4 $1 ../Data/Power7/testo_random2_2GB.txt $2 >>../Data/Time.txt &&
#echo "#############################################################################################################################################"
